{% assign author = site.authors | where: "name", page.author | first %}
{% if author %}
<section class="author">
  <div class="details">
    {% if author.photo %}
    <a href="/about">
      <img class="img-rounded" src="{{ author.photo }}" alt="{{ author.display_name }}">
    </a>
    {% else %}
    <img class="img-rounded" src="/assets/img/user.jpg" alt="{{ author.display_name }}">
    {% endif %}
    <p class="def">{{ site.translations.text.author | default: "作者" }}</p>
    <h3 class="name">
      <a href="{{ author.url }}">{{ author.display_name }}</a>
    </h3>
    <p class="desc">{{ author.bio }}</p>
    {% if site.show_get_theme_btn %}

    <a href="https://link3.cc/mcaoshi"><img src="" alt="公众号"
        width="291" height="103"></a>  
    <a href="https://pd.qq.com/s/7conjnpx7" class="get-theme" role="button">QQ频道</a>  
    <a href="https://qm.qq.com/cgi-bin/qm/qr?_wv=1027&k=4R0We99OWxrmx6feGhN4SwlwK6Y769WK&authKey=0IWFSRZXU9ADtMqYkYOSU5REFjJNVWHg2ULWk08ed4dZxwOpzXwAuMH3GsEqhp7x&noverify=0&group_code=906966228"
      class="get-theme" role="button">QQ群</a>  
    <a href="https://www.kdocs.cn/l/cvtEtEgmLTaZ" class="get-theme" role="button">资源文档</a>  
    <a href="https://pan.quark.cn/g/bd4eb81194" class="get-theme" role="button">夸克群</a>  
    <a href="https://dlj.8uri.cn/dlj/97f434cd " class="get-theme" role="button">迅雷群</a>  

    {% endif %}

    <p>
      {% if author.github_username %}
      <a href="https://github.com/{{ author.github_username }}" title="Github" target="_blank">
        <svg>
          <use xlink:href="#icon-github"></use>
        </svg>
      </a>
      {% endif %}
      {% if author.facebook_username %}
      <a href="https://www.facebook.com/{{ author.facebook_username }}" title="Facebook" target="_blank">
        <svg>
          <use xlink:href="#icon-facebook"></use>
        </svg>
      </a>
      {% endif %}
      {% if author.twitter_username %}
      <a href="https://twitter.com/{{ author.twitter_username }}" title="Twitter" target="_blank">
        <svg>
          <use xlink:href="#icon-twitter"></use>
        </svg>
      </a>
      {% endif %}
      {% if author.medium_username %}
      <a href="https://medium.com/@{{ author.medium_username }}" title="Medium" target="_blank">
        <svg>
          <use xlink:href="#icon-medium"></use>
        </svg>
      </a>
      {% endif %}
      {% if author.instagram_username %}
      <a href="https://www.instagram.com/{{ author.instagram_username }}" title="Instagram" target="_blank">
        <svg>
          <use xlink:href="#icon-instagram"></use>
        </svg>
      </a>
      {% endif %}
      {% if author.linkedin_username %}
      <a href="https://www.linkedin.com/in/{{ author.linkedin_username }}" title="LinkedIn" target="_blank">
        <svg>
          <use xlink:href="#icon-linkedin"></use>
        </svg>
      </a>
      {% endif %}
    </p>
  </div>
</section>

{% assign author_urls = '' %}
{% if author.github_username %}
{% assign author_urls = author_urls | append: '"https://github.com/' | append: author.github_username | append: '",' %}
{% endif %}
{% if author.facebook_username %}
{% assign author_urls = author_urls | append: '"https://www.facebook.com/' | append: author.facebook_username | append:
'",' %}
{% endif %}
{% if author.twitter_username %}
{% assign author_urls = author_urls | append: '"https://twitter.com/' | append: author.twitter_username | append: '",'
%}
{% endif %}
{% if author.medium_username %}
{% assign author_urls = author_urls | append: '"https://medium.com/@' | append: author.medium_username | append: '",' %}
{% endif %}
{% if author.instagram_username %}
{% assign author_urls = author_urls | append: '"https://www.instagram.com/' | append: author.instagram_username |
append: '",' %}
{% endif %}
{% if author.linkedin_username %}
{% assign author_urls = author_urls | append: '"https://www.linkedin.com/in/' | append: author.linkedin_username |
append: '",' %}
{% endif %}

<script type="application/ld+json">
  {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "{{ author.display_name }}",
      {% if author.photo %}
      "image": "{{ author.photo }}",
      {% else %}
      "image": {{ "/assets/img/user.jpg" | prepend: site.baseurl | prepend: site.url }},
      {% endif %}
      "jobTitle": "{{ author.position }}",
      "url": "{{ author.url | prepend: site.baseurl | prepend: site.url }}",
      "sameAs": [
        {{ author_urls | split: "," | join: "," }}
      ]
  }
  </script>
{% endif %}